---
layout: single
title:  "서버에 데이터 요청하고 응답받기"
---


## 1. 네트워킹이란?   

네트워킹은 인터넷에 연결되어 있는 원격지의 서버 또는 원격지의 단말과 통신해서 데이터를 주고받는 동작들을 포함한다. 즉, 여러분이 가지고 있는 단말의 데이터만사용하는 것이 아니라 멀리 떨어져 있는 서버나 다른 사람의 데이터를 조회할 수도 있다. 서버에 데이터를 저장할 때는 먼저 인터넷을 통해 데이터 통신이 가능한지를 알아본 후 데이터를 주고받는 과정도 진행하며 데이터를 주고받는 과정은 매우 복잡하다.

그럼에도 불구하고 네트워킹을 사용하는 이유는 인터넷에 연결되어 있는 여러 단말을 동시에 사용할 수 있어 다양한 데이터를 효율적으로 사용할 수 있기 때문이다.

 

원격지의 서버를 연결하는 가장 단순한 방식은 클라이언트와 서버가 일대일로 연결하는 2-tier C/S방식이다. 대부분 클라이언트가 서버에 연결되어 데이터를 요청하고 응답받는다. HTTP 프로토콜, FTP 프로토콜 그리고 POP3 프로토콜 등의 연결 방식을 모두 아래 그림과 같은 방법으로 서버로 간편하게 접속하여 처리한다.   

![image](https://user-images.githubusercontent.com/73388615/144775177-6e22238e-9eea-4de1-8980-539bb705408c.png)


## 2. 소켓 사용하기


HTTP 프로토콜과 소켓

HTTP프로토콜은 소켓으로 웹서버에 연결한 후 요청을 전송하고 응답을 받은 다음 연결을 끊는다. 이런 특성을 '비연결성(Stateless'이라고 하는데 이런 특성 때문에 실시간으로 데이터를 처리하는 앱은 응답 속도를 높이기 위해 연결성이 있는 소켓 연결을 선호했지만 지금은 인터넷의 속도가 빨라져 HTTP 프로토콜을 사용하는 웹이 일반적이 되었고 속도가 느리지 않으면서도 국제 표준을 따른다는 장점을 가진 웹서버로 많은 서버가 만들어지게 되었다.

 
안드로이드는 소켓 연결 등을 시도하거나 응답을 받아 처리할 때 스레드를 사용해야 한다. 네트워킹 실습을 위해 먼저 클라이언트와 서버 소켓을 만들어 보자. 


- Send    

![image](https://user-images.githubusercontent.com/73388615/144776034-f65e6b9a-b2bb-40ad-8c25-b7138399f234.png)

- startServer   

![image](https://user-images.githubusercontent.com/73388615/144776095-7a80be77-2b24-4a64-9bd9-f6755b145136.png)


- Client & Server Log    

![image](https://user-images.githubusercontent.com/73388615/144776232-8e9c717c-788a-434e-ae88-b130b709e882.png)


### 결과

![image](https://user-images.githubusercontent.com/73388615/144776271-954926b4-b2b5-4ca5-9bad-1173346f4db0.png)



